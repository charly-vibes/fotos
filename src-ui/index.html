<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fotos</title>
  <link rel="stylesheet" href="css/main.css">
  <link rel="stylesheet" href="css/canvas.css">
  <link rel="stylesheet" href="css/themes.css">
</head>
<body>
  <!-- Top toolbar -->
  <header id="toolbar">
    <div class="tool-group" id="capture-tools">
      <button data-action="capture-region" title="Capture Region (Ctrl+Shift+S)">ğŸ“</button>
      <button data-action="capture-fullscreen" title="Capture Fullscreen (Ctrl+Shift+A)">ğŸ“·</button>
      <button data-action="capture-window" title="Capture Window (Alt+PrtScn)">ğŸªŸ</button>
    </div>

    <div class="separator"></div>

    <div class="tool-group" id="annotation-tools">
      <button data-tool="arrow" title="Arrow (A)">â†’</button>
      <button data-tool="rect" title="Rectangle (R)">â–­</button>
      <button data-tool="ellipse" title="Ellipse (E)">â—‹</button>
      <button data-tool="text" title="Text (T)">T</button>
      <button data-tool="blur" title="Blur (B)">âŠ™</button>
      <button data-tool="step" title="Step Number (N)">1</button>
      <button data-tool="freehand" title="Freehand (F)">âœ</button>
      <button data-tool="highlight" title="Highlight (H)">ğŸ–</button>
      <button data-tool="crop" title="Crop (C)">âœ‚</button>
      <button data-tool="select" title="Select (V)">â–²</button>
    </div>

    <div class="separator"></div>

    <div class="tool-group" id="style-controls">
      <div id="color-picker-trigger"></div>
      <div id="size-picker"></div>
    </div>

    <div class="separator"></div>

    <div class="tool-group" id="history-controls">
      <button data-action="undo" title="Undo (Ctrl+Z)">â†¶</button>
      <button data-action="redo" title="Redo (Ctrl+Shift+Z)">â†·</button>
    </div>

    <div class="spacer"></div>

    <div class="tool-group" id="ai-tools">
      <button data-action="ocr" title="Extract Text (OCR)">OCR</button>
      <button data-action="auto-blur" title="Auto-Blur PII">ğŸ”’</button>
      <button data-action="ai-analyze" title="AI Analyze">ğŸ¤–</button>
    </div>

    <div class="separator"></div>

    <div class="tool-group" id="output-tools">
      <button data-action="copy-clipboard" title="Copy (Ctrl+C)">ğŸ“‹</button>
      <button data-action="save" title="Save (Ctrl+S)">ğŸ’¾</button>
      <button data-action="save-as" title="Save As">ğŸ“</button>
    </div>
  </header>

  <!-- Main canvas area -->
  <main id="canvas-container">
    <canvas id="canvas-base"></canvas>
    <canvas id="canvas-annotations"></canvas>
    <canvas id="canvas-active"></canvas>
    <textarea id="text-input" class="hidden"></textarea>
  </main>

  <!-- Collapsible AI results panel -->
  <aside id="ai-panel" class="collapsed">
    <div id="ai-panel-header">
      <span>AI Results</span>
      <button data-action="toggle-ai-panel"></button>
    </div>
    <div id="ai-panel-content">
      <div id="ocr-results" class="hidden"></div>
      <div id="llm-results" class="hidden"></div>
    </div>
  </aside>

  <!-- Status bar -->
  <footer id="statusbar">
    <span id="status-dimensions"></span>
    <span id="status-zoom"></span>
    <span id="status-tool"></span>
    <span id="status-message"></span>
  </footer>

  <div id="region-picker-overlay" class="hidden">
    <canvas id="region-picker-canvas"></canvas>
    <p id="region-picker-hint">Drag to select Â· Enter to confirm Â· Esc to cancel</p>
  </div>

  <script type="module" src="js/app.js"></script>
</body>
</html>
